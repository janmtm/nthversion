(()=>{"use strict";var e,t={347:()=>{const e=window.wp.blocks,t=(window.wp.i18n,window.wp.blockEditor),r=window.wp.components,o=window.wp.data,n=window.wp.coreData,s=window.wp.editor,i=window.wp.element,a=window.ReactJSXRuntime,l=JSON.parse('{"UU":"janmckell/nthversion"}');(0,e.registerBlockType)(l.UU,{edit:function({attributes:e,setAttributes:l}){const c=(0,o.useSelect)(e=>e("core/editor").getCurrentPostId(),[]),{editPost:d}=(0,o.useDispatch)(s.store),u=(0,o.useSelect)(e=>e(n.store).getEntityRecords("postType","post",{per_page:20,order:"desc",orderby:"date",status:"publish",exclude:c?[c]:void 0}),[c]),p=(0,i.useMemo)(()=>u&&Array.isArray(u)?u.filter(e=>{if(!e.content)return!1;const t=e.content.raw||e.content.rendered||"";return!!t&&/<!--\s*wp:janmckell\/nthversion/.test(t)}):[],[u]),v=(0,i.useMemo)(()=>p&&p.length>0?p[0]:u?.[0],[p,u]),h=(0,i.useRef)(!1);(0,i.useEffect)(()=>{if(!v||h.current)return;const e=(v.title?.rendered||"").match(/v\s*(\d+(?:\.\d+)?)/i);e&&(l({versionNumber:parseFloat(e[1])}),h.current=!0)},[v,l]);const{versionNumber:w}=e,[f,m]=(0,i.useState)("");return(0,i.useEffect)(()=>{w&&d({title:"Core Confidence v"+w})},[w,d]),(0,a.jsxs)("div",{...(0,t.useBlockProps)(),children:[(0,a.jsxs)(t.InspectorControls,{children:[(0,a.jsx)(r.PanelBody,{title:"Version type",children:(0,a.jsx)(r.RadioControl,{help:"Is this a major version or a minor update?",selected:f||"",options:[{label:"Major",value:"major"},{label:"Minor",value:"minor"}],onChange:e=>{var t;m(e),l({versionNumber:(t=e,"major"===t?Math.floor(w)+1:+(w+.1).toFixed(1))})}})}),(0,a.jsx)(r.PanelBody,{title:"Styling",children:(0,a.jsx)(r.TextControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:"Additional CSS Class",value:e.className||"",onChange:e=>l({className:e})})})]}),(0,a.jsx)("h2",{class:"wp-block-post-title",children:"Core Confidence v"+w})]})},save:function({attributes:e}){const{versionNumber:r,className:o}=e;return console.log(r),(0,a.jsx)("h2",{...t.useBlockProps.save({className:o}),children:"Core Confidence v"+r})}})}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var s=r[e]={exports:{}};return t[e](s,s.exports,o),s.exports}o.m=t,e=[],o.O=(t,r,n,s)=>{if(!r){var i=1/0;for(d=0;d<e.length;d++){for(var[r,n,s]=e[d],a=!0,l=0;l<r.length;l++)(!1&s||i>=s)&&Object.keys(o.O).every(e=>o.O[e](r[l]))?r.splice(l--,1):(a=!1,s<i&&(i=s));if(a){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[r,n,s]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={892:0,44:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var n,s,[i,a,l]=r,c=0;if(i.some(t=>0!==e[t])){for(n in a)o.o(a,n)&&(o.m[n]=a[n]);if(l)var d=l(o)}for(t&&t(r);c<i.length;c++)s=i[c],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(d)},r=globalThis.webpackChunknthversion=globalThis.webpackChunknthversion||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var n=o.O(void 0,[44],()=>o(347));n=o.O(n)})();